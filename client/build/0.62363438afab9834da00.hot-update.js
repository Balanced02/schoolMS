webpackHotUpdate(0,{"./src/views/TeacherDashboard/TeacherDashboard.js":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n("./node_modules/react/react.js"),u=a(l),d=(n("./node_modules/react-chartjs-2/es/index.js"),n("./node_modules/reactstrap/dist/reactstrap.es.js")),f=n("../node_modules/react-redux/es/index.js"),h=n("./node_modules/classnames/index.js"),m=a(h),p=n("./src/components/NoticeBoard.js"),y=a(p),b=n("./src/components/Notepad/Notepad.js"),g=a(b),v=n("./src/components/TimeTable.js"),N=(a(v),n("./src/components/Calendar.js")),E=a(N),j=n("./src/components/TeacherDashboardSummary.js"),S=a(j),T=n("./src/components/NoticeBoardModal.js"),w=a(T),k=n("./src/utils/index.js"),_=n("./src/actions/feedback.js"),C=n("./src/components/NoteList.js"),O=a(C),P=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedDays:[],modal:!1,searching:!0,notice:{date:"",body:""},note:{date:"",body:""},notices:{searching:!0,notices:[]},noteList:{searching:!0,notes:[]},summary:{searching:!0,totalStudents:"",pendingReg:"",totalStaff:""},activeTab:"1"},n}return s(t,e),i(t,[{key:"handleDayClick",value:function(e){this.setState({modal:!this.state.modal,notice:c({},this.state.notice,{date:e})})}},{key:"tabToggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"editNotice",value:function(e){this.setState({notice:c({},this.state.notice,{body:e.target.value})})}},{key:"editNote",value:function(e){this.setState({note:c({},this.state.note,{body:e.target.value})}),console.log(this.state.note.body)}},{key:"createNote",value:function(){var e=this;""===this.state.note.body?this.props.dispatch((0,_.showError)("The field must be filled")):((0,k.callApi)("/createNote",this.state.note,"POST").then(function(t){return e.props.dispatch((0,_.showInfo)("New Note Added"))}).catch(function(t){return e.props.dispatch((0,_.showError)("Error Creating Note"))}),this.setState({note:c({},this.state.note,{body:""})}),this.getSummary())}},{key:"getSummary",value:function(){var e=this;(0,k.callApi)("/getSummary").then(function(t){e.setState({summary:c({},e.state.summary,{totalStudents:t.totalStudents,pendingReg:t.pendingReg,totalStaff:t.totalStaff,searching:!1}),notices:{searching:!1,notices:t.noticeBoard},noteList:{searching:!1,notes:t.notes},selectedDays:t.noticeBoard.map(function(e){return e.date})})}).catch(function(e){return console.log(e)})}},{key:"getNotes",value:function(){var e=this;(0,k.callApi)("/getNotes").then(function(t){return e.setState({noteList:c({},e.state.noteList,{notes:t.notes,searching:!1,count:t.count})})}).catch(function(e){return console.log(e)})}},{key:"createNotice",value:function(){var e=this,t=this.state.notice;[t.date,t.body].every(function(e){return""!==e})?((0,k.callApi)("/createNotice",this.state.notice,"POST").then(function(t){return e.props.dispatch((0,_.showInfo)("New Notice Added"))}).catch(function(t){return e.props.dispatch((0,_.showError)("Error Creating Notice"))}),this.toggle(),this.getSummary()):this.props.dispatch((0,_.showError)("The field must be filled"))}},{key:"componentWillMount",value:function(){this.getSummary()}},{key:"render",value:function(){var e=this,t=this.state,n=t.summary,a=t.notice,o=t.notices,r=t.noteList,s=t.note,c=t.selectedDays,i=t.modal,l=t.activeTab;return u.default.createElement("div",{className:"animated fadeIn container"},u.default.createElement(S.default,{data:n}),u.default.createElement(d.Card,{className:"container",style:{padding:10}},u.default.createElement(d.Nav,{tabs:!0},u.default.createElement(d.NavItem,null,u.default.createElement(d.NavLink,{className:(0,m.default)({active:"1"===l}),onClick:function(){e.tabToggle("1")},style:{cursor:"pointer"}},"Notice")),u.default.createElement(d.NavItem,null,u.default.createElement(d.NavLink,{className:(0,m.default)({active:"2"===l}),onClick:function(){e.tabToggle("2")},style:{cursor:"pointer"}},"Activities"))),u.default.createElement(d.TabContent,{activeTab:l},u.default.createElement(d.TabPane,{tabId:"1"},u.default.createElement(d.Row,null,u.default.createElement("div",null,u.default.createElement(d.Col,{style:{justifyContent:"center"}},u.default.createElement(E.default,{select:function(t){return e.handleDayClick(t)},selectedDays:c}))),u.default.createElement(d.Col,null,u.default.createElement("div",{style:{alignSelf:"stretch",flex:1}},u.default.createElement(y.default,{data:o})))),u.default.createElement(w.default,{isOpen:i,toggle:function(){return e.toggle()},data:a,edit:function(t){return e.editNotice(t)},submit:function(){return e.createNotice()}})),u.default.createElement(d.TabPane,{tabId:"2"},u.default.createElement(d.Row,null,u.default.createElement(d.Col,null,u.default.createElement(g.default,{edit:function(t){return e.editNote(t)},note:s,submit:function(){return e.createNote()}}))),u.default.createElement(O.default,{data:r})))))}}]),t}(l.Component);t.default=(0,f.connect)()(P)}});
//# sourceMappingURL=0.62363438afab9834da00.hot-update.js.map