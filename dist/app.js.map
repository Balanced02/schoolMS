{"version":3,"sources":["../server/app.js"],"names":["app","disable","connect","err","console","error","process","exit","log","use","skip","get","json","urlencoded","extended","static","join","__dirname","req","res","next","Error","status","render","message"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,wBAAZ;AACAA,IAAIC,OAAJ,CAAY,cAAZ;AACA;AACA;AACA,mBAASC,OAAT,CAAiB,8DAAjB,EAAiF,eAAO;AACtF,MAAIC,GAAJ,EAAS;AACPC,YAAQC,KAAR,CAAcF,GAAd;AACAG,YAAQC,IAAR,CAAa,CAAb;AACA;AACD;AACDH,UAAQI,GAAR,CAAY,kCAAZ;AACD,CAPD;;AASAR,IAAIS,GAAJ,CACE,sBAAO,KAAP,EAAc;AACZC,QAAM;AAAA,WAAMV,IAAIW,GAAJ,CAAQ,KAAR,MAAmB,MAAzB;AAAA;AADM,CAAd,CADF;AAKAX,IAAIS,GAAJ,CAAQ,qBAAWG,IAAX,EAAR;AACAZ,IAAIS,GAAJ,CAAQ,qBAAWI,UAAX,CAAsB,EAAEC,UAAU,IAAZ,EAAtB,CAAR;AACAd,IAAIS,GAAJ,CAAQ,sBAAO,KAAP,CAAR;AACAT,IAAIS,GAAJ,CAAQ,kBAAQM,MAAR,CAAe,eAAKC,IAAL,CAAUC,SAAV,EAAqB,WAArB,CAAf,CAAR;;AAEA;AACAjB,IAAIS,GAAJ,CAAQ,GAAR;;AAEA;AACAT,IAAIS,GAAJ,CAAQ,UAACS,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1B,MAAMjB,MAAM,IAAIkB,KAAJ,CAAU,WAAV,CAAZ;AACAlB,MAAImB,MAAJ,GAAa,GAAb;AACAF,OAAKjB,GAAL;AACD,CAJD;;AAMA;AACAH,IAAIS,GAAJ,CAAQ,UAACN,GAAD,EAAMe,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,EAAyB;AAC/B;AACAD,MAAIG,MAAJ,CAAWnB,IAAImB,MAAJ,IAAc,GAAzB,EAA8BC,MAA9B,CAAqC,OAArC,EAA8C;AAC5ClB,WAAOF,IAAImB,MADiC;AAE5CE,aAASrB,IAAIqB;AAF+B,GAA9C;AAID,CAND;;kBAQexB,G","file":"app.js","sourcesContent":["import express from 'express';\r\nimport path from 'path';\r\nimport logger from 'morgan';\r\nimport bodyParser from 'body-parser';\r\nimport mongoose from 'mongoose';\r\nimport morgan from 'morgan';\r\nimport dotenv from 'dotenv';\r\nimport routes from './routes';\r\n\r\nconst app = express();\r\napp.disable('x-powered-by');\r\n//mongodb://schoolms:schoolms@ds051630.mlab.com:51630/schoolms\r\n//mongodb://localhost/schoolMSdev\r\nmongoose.connect('mongodb://schoolms:schoolms@ds051630.mlab.com:51630/schoolms', err => {\r\n  if (err) {\r\n    console.error(err);\r\n    process.exit(1);\r\n    return;\r\n  }\r\n  console.log('Database Connected Successfully!');\r\n});\r\n\r\napp.use(\r\n  logger('dev', {\r\n    skip: () => app.get('env') === 'test',\r\n  })\r\n);\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({ extended: true }));\r\napp.use(morgan('dev'));\r\napp.use(express.static(path.join(__dirname, '../public')));\r\n\r\n// Routes\r\napp.use('/', routes);\r\n\r\n// Catch 404 and forward to error handler\r\napp.use((req, res, next) => {\r\n  const err = new Error('Not Found');\r\n  err.status = 404;\r\n  next(err);\r\n});\r\n\r\n// Error handler\r\napp.use((err, req, res, next) => {\r\n  // eslint-disable-line no-unused-vars\r\n  res.status(err.status || 500).render('error', {\r\n    error: err.status,\r\n    message: err.message,\r\n  });\r\n});\r\n\r\nexport default app;\r\n"]}